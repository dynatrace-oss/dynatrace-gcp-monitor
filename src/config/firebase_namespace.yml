id: firebase_namespace
$schema: gcp_schema_v_1_0.json
version: 0.0.1
minDynatraceVersion: 1.199
vars:
- id: filter_conditions
  displayName: Metric query filter for which metrics should be queried
  type: variables
technology:
  name: Google Firebase Realtime Database
gcp:
- service: firebase_namespace
  gcpMonitoringFilter: var:filter_conditions
  dimensions:
  - value: label:resource.labels.project_id
    key: project_id
    compatibilityModeOnly: true
  - value: label:resource.labels.project_id
    key: gcp.project.id
  - value: label:resource.labels.table_name
    key: table_name
    compatibilityModeOnly: true
  - value: label:resource.labels.table_name
    key: gcp.instance.name
  - value: label:resource.labels.location
    key: location
    compatibilityModeOnly: true
  - value: label:resource.labels.location
    key: gcp.region
  metrics:
  - value: metric:firebasedatabase.googleapis.com/io/database_load
    key: cloud.gcp.firebasedatabase_googleapis_com.io.database_load
    type: gauge
    name: Database Load
    gcpOptions:
      ingestDelay: 1800
      samplePeriod: 60
      valueType: DOUBLE
      metricKind: GAUGE
      unit: '1'
    dimensions:
    - value: label:metric.labels.type
      key: type
  - value: metric:firebasedatabase.googleapis.com/io/persisted_bytes_count
    key: cloud.gcp.firebasedatabase_googleapis_com.io.persisted_bytes_count
    type: count,delta
    name: Saved Bytes
    gcpOptions:
      ingestDelay: 1920
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions: []
  - value: metric:firebasedatabase.googleapis.com/io/sent_responses_count
    key: cloud.gcp.firebasedatabase_googleapis_com.io.sent_responses_count
    type: count,delta
    name: Responses sent
    gcpOptions:
      ingestDelay: 1920
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions: []
  - value: metric:firebasedatabase.googleapis.com/io/utilization
    key: cloud.gcp.firebasedatabase_googleapis_com.io.utilization
    type: gauge
    name: I/O utilization
    gcpOptions:
      ingestDelay: 1800
      samplePeriod: 60
      valueType: DOUBLE
      metricKind: GAUGE
      unit: '1'
    dimensions: []
  - value: metric:firebasedatabase.googleapis.com/network/active_connections
    key: cloud.gcp.firebasedatabase_googleapis_com.network.active_connections
    type: gauge
    name: Connections
    gcpOptions:
      ingestDelay: 1800
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: '1'
    dimensions: []
  - value: metric:firebasedatabase.googleapis.com/network/api_hits_count
    key: cloud.gcp.firebasedatabase_googleapis_com.network.api_hits_count
    type: count,delta
    name: API Hits
    gcpOptions:
      ingestDelay: 1920
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions:
    - value: label:metric.labels.operation_type
      key: operation_type
  - value: metric:firebasedatabase.googleapis.com/network/broadcast_load
    key: cloud.gcp.firebasedatabase_googleapis_com.network.broadcast_load
    type: gauge
    name: Broadcast Load
    gcpOptions:
      ingestDelay: 1800
      samplePeriod: 60
      valueType: DOUBLE
      metricKind: GAUGE
      unit: '1'
    dimensions: []
  - value: metric:firebasedatabase.googleapis.com/network/disabled_for_overages
    key: cloud.gcp.firebasedatabase_googleapis_com.network.disabled_for_overages
    type: gauge
    name: Disabled for network
    gcpOptions:
      ingestDelay: 1800
      samplePeriod: 900
      valueType: BOOL
      metricKind: GAUGE
      unit: ''
    dimensions: []
  - value: metric:firebasedatabase.googleapis.com/network/https_requests_count
    key: cloud.gcp.firebasedatabase_googleapis_com.network.https_requests_count
    type: count,delta
    name: HTTPS Requests Received
    gcpOptions:
      ingestDelay: 1920
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions:
    - value: label:metric.labels.reused_ssl_session
      key: reused_ssl_session
  - value: metric:firebasedatabase.googleapis.com/network/monthly_sent
    key: cloud.gcp.firebasedatabase_googleapis_com.network.monthly_sent
    type: gauge
    name: Bytes sent monthly
    gcpOptions:
      ingestDelay: 1800
      samplePeriod: 900
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions: []
  - value: metric:firebasedatabase.googleapis.com/network/monthly_sent_limit
    key: cloud.gcp.firebasedatabase_googleapis_com.network.monthly_sent_limit
    type: gauge
    name: Bytes sent limit
    gcpOptions:
      ingestDelay: 1800
      samplePeriod: 900
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions: []
  - value: metric:firebasedatabase.googleapis.com/network/sent_bytes_count
    key: cloud.gcp.firebasedatabase_googleapis_com.network.sent_bytes_count
    type: count,delta
    name: Total billed bytes
    gcpOptions:
      ingestDelay: 1920
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions: []
  - value: metric:firebasedatabase.googleapis.com/network/sent_payload_and_protocol_bytes_count
    key: cloud.gcp.firebasedatabase_googleapis_com.network.sent_payload_and_protocol_bytes_count
    type: count,delta
    name: Payload and Protocol Bytes sent
    gcpOptions:
      ingestDelay: 1920
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions: []
  - value: metric:firebasedatabase.googleapis.com/network/sent_payload_bytes_count
    key: cloud.gcp.firebasedatabase_googleapis_com.network.sent_payload_bytes_count
    type: count,delta
    name: Payload Bytes Sent
    gcpOptions:
      ingestDelay: 1920
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions: []
  - value: metric:firebasedatabase.googleapis.com/rules/evaluation_count
    key: cloud.gcp.firebasedatabase_googleapis_com.rules.evaluation_count
    type: count,delta
    name: Rule evaluations
    gcpOptions:
      ingestDelay: 1920
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions:
    - value: label:metric.labels.request_method
      key: request_method
    - value: label:metric.labels.ruleset_label
      key: ruleset_label
    - value: label:metric.labels.result
      key: result
  - value: metric:firebasedatabase.googleapis.com/storage/limit
    key: cloud.gcp.firebasedatabase_googleapis_com.storage.limit
    type: gauge
    name: Bytes stored limit
    gcpOptions:
      ingestDelay: 1800
      samplePeriod: 900
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions: []
