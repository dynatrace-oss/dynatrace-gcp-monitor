id: gce_instance
$schema: gcp_schema_v_1_0.json
version: 0.0.1
minDynatraceVersion: 1.199
vars:
- id: filter_conditions
  displayName: Metric query filter for which metrics should be queried
  type: variables
technology:
  name: Google VM Instance
gcp:
- service: gce_instance
  gcpMonitoringFilter: var:filter_conditions
  dimensions:
  - value: label:resource.labels.project_id
    key: project_id
    compatibilityModeOnly: true
  - value: label:resource.labels.project_id
    key: gcp.project.id
  - value: label:resource.labels.instance_id
    key: instance_id
    compatibilityModeOnly: true
  - value: label:resource.labels.instance_id
    key: gcp.instance.id
  - value: label:resource.labels.zone
    key: zone
    compatibilityModeOnly: true
  - value: label:resource.labels.zone
    key: gcp.region
  metrics:
  - value: metric:compute.googleapis.com/firewall/dropped_bytes_count
    key: cloud.gcp.compute_googleapis_com.firewall.dropped_bytes_count
    type: count,delta
    name: Dropped bytes
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/firewall/dropped_packets_count
    key: cloud.gcp.compute_googleapis_com.firewall.dropped_packets_count
    type: count,delta
    name: Dropped packets
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/guest/cpu/runnable_task_count
    key: cloud.gcp.compute_googleapis_com.guest.cpu.runnable_task_count
    type: gauge
    name: Runnable task count.
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: DOUBLE
      metricKind: GAUGE
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/guest/cpu/usage_time
    key: cloud.gcp.compute_googleapis_com.guest.cpu.usage_time
    type: count,delta
    name: CPU usage
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: DOUBLE
      metricKind: CUMULATIVE
      unit: s{CPU}
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.state
      key: state
  - value: metric:compute.googleapis.com/guest/disk/bytes_used
    key: cloud.gcp.compute_googleapis_com.guest.disk.bytes_used
    type: gauge
    name: Disk usage in Bytes
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.state
      key: state
  - value: metric:compute.googleapis.com/guest/disk/io_time
    key: cloud.gcp.compute_googleapis_com.guest.disk.io_time
    type: count,delta
    name: IO Time
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: CUMULATIVE
      unit: ms
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
  - value: metric:compute.googleapis.com/guest/disk/merged_operation_count
    key: cloud.gcp.compute_googleapis_com.guest.disk.merged_operation_count
    type: count,delta
    name: Merged disk operations
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: CUMULATIVE
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.direction
      key: direction
  - value: metric:compute.googleapis.com/guest/disk/operation_bytes_count
    key: cloud.gcp.compute_googleapis_com.guest.disk.operation_bytes_count
    type: count,delta
    name: Disk bytes transferred
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: CUMULATIVE
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.direction
      key: direction
  - value: metric:compute.googleapis.com/guest/disk/operation_count
    key: cloud.gcp.compute_googleapis_com.guest.disk.operation_count
    type: count,delta
    name: Disk operations
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: CUMULATIVE
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.direction
      key: direction
  - value: metric:compute.googleapis.com/guest/disk/operation_time
    key: cloud.gcp.compute_googleapis_com.guest.disk.operation_time
    type: count,delta
    name: Disk operation time
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: CUMULATIVE
      unit: ms
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.direction
      key: direction
  - value: metric:compute.googleapis.com/guest/disk/queue_length
    key: cloud.gcp.compute_googleapis_com.guest.disk.queue_length
    type: gauge
    name: Queue Length
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: DOUBLE
      metricKind: GAUGE
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
  - value: metric:compute.googleapis.com/guest/disk/weighted_io_time
    key: cloud.gcp.compute_googleapis_com.guest.disk.weighted_io_time
    type: count,delta
    name: IO Time
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: CUMULATIVE
      unit: ms
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
  - value: metric:compute.googleapis.com/guest/memory/anonymous_used
    key: cloud.gcp.compute_googleapis_com.guest.memory.anonymous_used
    type: gauge
    name: Anonymous memory usage in Bytes
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.state
      key: state
  - value: metric:compute.googleapis.com/guest/memory/bytes_used
    key: cloud.gcp.compute_googleapis_com.guest.memory.bytes_used
    type: gauge
    name: Memory usage in Bytes
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.state
      key: state
  - value: metric:compute.googleapis.com/guest/memory/dirty_used
    key: cloud.gcp.compute_googleapis_com.guest.memory.dirty_used
    type: gauge
    name: Dirty pages usage in Bytes.
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.state
      key: state
  - value: metric:compute.googleapis.com/guest/memory/page_cache_used
    key: cloud.gcp.compute_googleapis_com.guest.memory.page_cache_used
    type: gauge
    name: Page cache memory usage in Bytes
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.state
      key: state
  - value: metric:compute.googleapis.com/guest/memory/unevictable_used
    key: cloud.gcp.compute_googleapis_com.guest.memory.unevictable_used
    type: gauge
    name: Unevictable memory usage in Bytes
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/guest/system/problem_count
    key: cloud.gcp.compute_googleapis_com.guest.system.problem_count
    type: count,delta
    name: Problem Count
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: CUMULATIVE
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.reason
      key: reason
  - value: metric:compute.googleapis.com/guest/system/problem_state
    key: cloud.gcp.compute_googleapis_com.guest.system.problem_state
    type: gauge
    name: Problem State
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.reason
      key: reason
    - value: label:metric.labels.type
      key: type
  - value: metric:compute.googleapis.com/guest/system/uptime
    key: cloud.gcp.compute_googleapis_com.guest.system.uptime
    type: gauge
    name: Uptime
    gcpOptions:
      ingestDelay: 180
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: s
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.kernel_version
      key: kernel_version
    - value: label:metric.labels.os_version
      key: os_version
  - value: metric:compute.googleapis.com/instance/cpu/reserved_cores
    key: cloud.gcp.compute_googleapis_com.instance.cpu.reserved_cores
    type: gauge
    name: Reserved vCPUs
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: DOUBLE
      metricKind: GAUGE
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/instance/cpu/scheduler_wait_time
    key: cloud.gcp.compute_googleapis_com.instance.cpu.scheduler_wait_time
    type: count,delta
    name: Scheduler Wait Time
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: DOUBLE
      metricKind: DELTA
      unit: s{idle}
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/instance/cpu/usage_time
    key: cloud.gcp.compute_googleapis_com.instance.cpu.usage_time
    type: count,delta
    name: CPU usage
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: DOUBLE
      metricKind: DELTA
      unit: s{CPU}
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/instance/cpu/utilization
    key: cloud.gcp.compute_googleapis_com.instance.cpu.utilization
    type: gauge
    name: CPU utilization
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: DOUBLE
      metricKind: GAUGE
      unit: 10^2.%
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/instance/disk/max_read_bytes_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.max_read_bytes_count
    type: gauge
    name: Peak disk read bytes
    gcpOptions:
      ingestDelay: 120
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions:
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
  - value: metric:compute.googleapis.com/instance/disk/max_read_ops_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.max_read_ops_count
    type: gauge
    name: Peak disk read ops
    gcpOptions:
      ingestDelay: 120
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: '1'
    dimensions:
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
  - value: metric:compute.googleapis.com/instance/disk/max_write_bytes_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.max_write_bytes_count
    type: gauge
    name: Peak disk write bytes
    gcpOptions:
      ingestDelay: 120
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions:
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
  - value: metric:compute.googleapis.com/instance/disk/max_write_ops_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.max_write_ops_count
    type: gauge
    name: Peak disk write ops
    gcpOptions:
      ingestDelay: 120
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: '1'
    dimensions:
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
  - value: metric:compute.googleapis.com/instance/disk/read_bytes_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.read_bytes_count
    type: count,delta
    name: Disk read bytes
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
  - value: metric:compute.googleapis.com/instance/disk/read_ops_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.read_ops_count
    type: count,delta
    name: Disk read operations
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
  - value: metric:compute.googleapis.com/instance/disk/throttled_read_bytes_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.throttled_read_bytes_count
    type: count,delta
    name: Throttled read bytes
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
    - value: label:metric.labels.throttle_reason
      key: throttle_reason
  - value: metric:compute.googleapis.com/instance/disk/throttled_read_ops_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.throttled_read_ops_count
    type: count,delta
    name: Throttled read operations
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
    - value: label:metric.labels.throttle_reason
      key: throttle_reason
  - value: metric:compute.googleapis.com/instance/disk/throttled_write_bytes_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.throttled_write_bytes_count
    type: count,delta
    name: Throttled write bytes
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
    - value: label:metric.labels.throttle_reason
      key: throttle_reason
  - value: metric:compute.googleapis.com/instance/disk/throttled_write_ops_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.throttled_write_ops_count
    type: count,delta
    name: Throttled write operations
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
    - value: label:metric.labels.throttle_reason
      key: throttle_reason
  - value: metric:compute.googleapis.com/instance/disk/write_bytes_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.write_bytes_count
    type: count,delta
    name: Disk write bytes
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
  - value: metric:compute.googleapis.com/instance/disk/write_ops_count
    key: cloud.gcp.compute_googleapis_com.instance.disk.write_ops_count
    type: count,delta
    name: Disk write operations
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.device_name
      key: device_name
    - value: label:metric.labels.storage_type
      key: storage_type
    - value: label:metric.labels.device_type
      key: device_type
  - value: metric:compute.googleapis.com/instance/integrity/early_boot_validation_status
    key: cloud.gcp.compute_googleapis_com.instance.integrity.early_boot_validation_status
    type: gauge
    name: Early Boot Validation
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.status
      key: status
  - value: metric:compute.googleapis.com/instance/integrity/late_boot_validation_status
    key: cloud.gcp.compute_googleapis_com.instance.integrity.late_boot_validation_status
    type: gauge
    name: Late Boot Validation
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.status
      key: status
  - value: metric:compute.googleapis.com/instance/memory/balloon/ram_size
    key: cloud.gcp.compute_googleapis_com.instance.memory.balloon.ram_size
    type: gauge
    name: VM Memory Total
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/instance/memory/balloon/ram_used
    key: cloud.gcp.compute_googleapis_com.instance.memory.balloon.ram_used
    type: gauge
    name: VM Memory Used
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/instance/memory/balloon/swap_in_bytes_count
    key: cloud.gcp.compute_googleapis_com.instance.memory.balloon.swap_in_bytes_count
    type: count,delta
    name: VM Swap In
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/instance/memory/balloon/swap_out_bytes_count
    key: cloud.gcp.compute_googleapis_com.instance.memory.balloon.swap_out_bytes_count
    type: count,delta
    name: VM Swap Out
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/instance/network/received_bytes_count
    key: cloud.gcp.compute_googleapis_com.instance.network.received_bytes_count
    type: count,delta
    name: Received bytes
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.loadbalanced
      key: loadbalanced
  - value: metric:compute.googleapis.com/instance/network/received_packets_count
    key: cloud.gcp.compute_googleapis_com.instance.network.received_packets_count
    type: count,delta
    name: Received packets
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.loadbalanced
      key: loadbalanced
  - value: metric:compute.googleapis.com/instance/network/sent_bytes_count
    key: cloud.gcp.compute_googleapis_com.instance.network.sent_bytes_count
    type: count,delta
    name: Sent bytes
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.loadbalanced
      key: loadbalanced
  - value: metric:compute.googleapis.com/instance/network/sent_packets_count
    key: cloud.gcp.compute_googleapis_com.instance.network.sent_packets_count
    type: count,delta
    name: Sent packets
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
    - value: label:metric.labels.loadbalanced
      key: loadbalanced
  - value: metric:compute.googleapis.com/instance/uptime
    key: cloud.gcp.compute_googleapis_com.instance.uptime
    type: count,delta
    name: Uptime
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: DOUBLE
      metricKind: DELTA
      unit: s{uptime}
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/instance/uptime_total
    key: cloud.gcp.compute_googleapis_com.instance.uptime_total
    type: gauge
    name: Uptime Total
    gcpOptions:
      ingestDelay: 120
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: s
    dimensions:
    - value: label:metric.labels.instance_name
      key: instance_name
      compatibilityModeOnly: true
    - value: label:metric.labels.instance_name
      key: instance_name
  - value: metric:compute.googleapis.com/mirroring/dropped_packets_count
    key: cloud.gcp.compute_googleapis_com.mirroring.dropped_packets_count
    type: count,delta
    name: Dropped packets
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions:
    - value: label:metric.labels.reason
      key: reason
  - value: metric:compute.googleapis.com/mirroring/mirrored_bytes_count
    key: cloud.gcp.compute_googleapis_com.mirroring.mirrored_bytes_count
    type: count,delta
    name: Mirrored bytes
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions: []
  - value: metric:compute.googleapis.com/mirroring/mirrored_packets_count
    key: cloud.gcp.compute_googleapis_com.mirroring.mirrored_packets_count
    type: count,delta
    name: Mirrored packets
    gcpOptions:
      ingestDelay: 240
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '1'
    dimensions: []
  - value: metric:compute.googleapis.com/nat/allocated_ports
    key: cloud.gcp.compute_googleapis_com.nat.allocated_ports
    type: gauge
    name: Allocated ports
    gcpOptions:
      ingestDelay: 165
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: '{port}'
    dimensions:
    - value: label:metric.labels.nat_project_number
      key: nat_project_number
    - value: label:metric.labels.router_id
      key: router_id
    - value: label:metric.labels.nat_gateway_name
      key: nat_gateway_name
    - value: label:metric.labels.nat_ip
      key: nat_ip
  - value: metric:compute.googleapis.com/nat/closed_connections_count
    key: cloud.gcp.compute_googleapis_com.nat.closed_connections_count
    type: count,delta
    name: Closed connections count
    gcpOptions:
      ingestDelay: 165
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '{connection}'
    dimensions:
    - value: label:metric.labels.nat_project_number
      key: nat_project_number
    - value: label:metric.labels.router_id
      key: router_id
    - value: label:metric.labels.nat_gateway_name
      key: nat_gateway_name
    - value: label:metric.labels.ip_protocol
      key: ip_protocol
  - value: metric:compute.googleapis.com/nat/dropped_received_packets_count
    key: cloud.gcp.compute_googleapis_com.nat.dropped_received_packets_count
    type: count,delta
    name: Received packets dropped count
    gcpOptions:
      ingestDelay: 165
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '{packet}'
    dimensions:
    - value: label:metric.labels.nat_project_number
      key: nat_project_number
    - value: label:metric.labels.router_id
      key: router_id
    - value: label:metric.labels.nat_gateway_name
      key: nat_gateway_name
    - value: label:metric.labels.ip_protocol
      key: ip_protocol
  - value: metric:compute.googleapis.com/nat/dropped_sent_packets_count
    key: cloud.gcp.compute_googleapis_com.nat.dropped_sent_packets_count
    type: count,delta
    name: Sent packets dropped count
    gcpOptions:
      ingestDelay: 165
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '{packet}'
    dimensions:
    - value: label:metric.labels.nat_project_number
      key: nat_project_number
    - value: label:metric.labels.router_id
      key: router_id
    - value: label:metric.labels.nat_gateway_name
      key: nat_gateway_name
    - value: label:metric.labels.ip_protocol
      key: ip_protocol
    - value: label:metric.labels.reason
      key: reason
  - value: metric:compute.googleapis.com/nat/new_connections_count
    key: cloud.gcp.compute_googleapis_com.nat.new_connections_count
    type: count,delta
    name: New connections count
    gcpOptions:
      ingestDelay: 165
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '{connection}'
    dimensions:
    - value: label:metric.labels.nat_project_number
      key: nat_project_number
    - value: label:metric.labels.router_id
      key: router_id
    - value: label:metric.labels.nat_gateway_name
      key: nat_gateway_name
    - value: label:metric.labels.ip_protocol
      key: ip_protocol
  - value: metric:compute.googleapis.com/nat/open_connections
    key: cloud.gcp.compute_googleapis_com.nat.open_connections
    type: gauge
    name: Open connections
    gcpOptions:
      ingestDelay: 165
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: '{connection}'
    dimensions:
    - value: label:metric.labels.nat_project_number
      key: nat_project_number
    - value: label:metric.labels.router_id
      key: router_id
    - value: label:metric.labels.nat_gateway_name
      key: nat_gateway_name
    - value: label:metric.labels.ip_protocol
      key: ip_protocol
  - value: metric:compute.googleapis.com/nat/port_usage
    key: cloud.gcp.compute_googleapis_com.nat.port_usage
    type: gauge
    name: Port usage
    gcpOptions:
      ingestDelay: 165
      samplePeriod: 60
      valueType: INT64
      metricKind: GAUGE
      unit: '{port}'
    dimensions:
    - value: label:metric.labels.nat_project_number
      key: nat_project_number
    - value: label:metric.labels.router_id
      key: router_id
    - value: label:metric.labels.nat_gateway_name
      key: nat_gateway_name
    - value: label:metric.labels.ip_protocol
      key: ip_protocol
  - value: metric:compute.googleapis.com/nat/received_bytes_count
    key: cloud.gcp.compute_googleapis_com.nat.received_bytes_count
    type: count,delta
    name: Received bytes count
    gcpOptions:
      ingestDelay: 165
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions:
    - value: label:metric.labels.nat_project_number
      key: nat_project_number
    - value: label:metric.labels.router_id
      key: router_id
    - value: label:metric.labels.nat_gateway_name
      key: nat_gateway_name
    - value: label:metric.labels.ip_protocol
      key: ip_protocol
  - value: metric:compute.googleapis.com/nat/received_packets_count
    key: cloud.gcp.compute_googleapis_com.nat.received_packets_count
    type: count,delta
    name: Received packets count
    gcpOptions:
      ingestDelay: 165
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '{packet}'
    dimensions:
    - value: label:metric.labels.nat_project_number
      key: nat_project_number
    - value: label:metric.labels.router_id
      key: router_id
    - value: label:metric.labels.nat_gateway_name
      key: nat_gateway_name
    - value: label:metric.labels.ip_protocol
      key: ip_protocol
  - value: metric:compute.googleapis.com/nat/sent_bytes_count
    key: cloud.gcp.compute_googleapis_com.nat.sent_bytes_count
    type: count,delta
    name: Sent bytes count
    gcpOptions:
      ingestDelay: 165
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: By
    dimensions:
    - value: label:metric.labels.nat_project_number
      key: nat_project_number
    - value: label:metric.labels.router_id
      key: router_id
    - value: label:metric.labels.nat_gateway_name
      key: nat_gateway_name
    - value: label:metric.labels.ip_protocol
      key: ip_protocol
  - value: metric:compute.googleapis.com/nat/sent_packets_count
    key: cloud.gcp.compute_googleapis_com.nat.sent_packets_count
    type: count,delta
    name: Sent packets count
    gcpOptions:
      ingestDelay: 165
      samplePeriod: 60
      valueType: INT64
      metricKind: DELTA
      unit: '{packet}'
    dimensions:
    - value: label:metric.labels.nat_project_number
      key: nat_project_number
    - value: label:metric.labels.router_id
      key: router_id
    - value: label:metric.labels.nat_gateway_name
      key: nat_gateway_name
    - value: label:metric.labels.ip_protocol
      key: ip_protocol
alerts:
- path: alerts/gce_instance/cpu.utilization.json
