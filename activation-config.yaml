# Debug properties for Dynatrace Cloud Function
debug:  
  # if true will print full MINT ingest input. Allowed values: true/yes, false/no
  printMetricIngestInput: false 
googleCloud:
  common:
    # Name of Google Secret Manager Secret containing Dynatrace URL
    dynatraceUrlSecretName: DYNATRACE_URL
    # Name of Google Secret Manager Secret containing Dynatrace Access Key
    dynatraceAccessKeySecretName: DYNATRACE_ACCESS_KEY
    # Name of the Service Account that should be created for Dynatrace Function to authenticate with Google Monitoring API 
    serviceAccount: dynatrace-gcp-service-custom
    # Name of the GCP IAM Role that should be created for Dynatrace Function Service Account
    iamRole: dynatrace_extension.metrics
    # Path to Google credentials file
    # googleApplicationCredentialsPath: ''
    cloudFunctionSize: s 
    # Require valid SSL certificate when communicating with Dynatrace Cluster / Active Gate
    # May be set to false in case communication through Active Gate is debugged, for non-production use cases
    # Allowed values: true/yes, false/no
    requireValidCertificate: true
    # Determines a caller-specified project for quota and billing purposes 
    # if set to source: monitoring API calls are booked towards project where K8S container is running
    # if set to destination: monitoring API calls are booked towards project which is monitored
    # REQUIRES serviceusage.services.use Permission granted for Service Account!
    serviceUsageBooking: source
    # Depending on value of this flag, function will use proxy settings for either Dynatrace, GCP API or both.
    # if set to ALL: proxy settings will be used for requests to Dynatrace and GCP API
    # if set to DT_ONLY: proxy settings will be used only for requests to Dynatrace
    # if set to GCP_ONLY: proxy settings will be used only for requests to GCP API
    # if not set: default, proxy settings won't be used
    useProxy: ""
    # Set the proxy addresses. To be used in conjunction with USE_PROXY.
    httpProxy: ""
    httpsProxy: ""
    # Send custom metrics to GCP to diagnose quickly if your dynatrace-gcp-function processes and sends metrics to Dynatrace properly.
    # Allowed values: true/yes, false/no
    selfMonitoringEnabled: false
  metrics:
    # Name of the Pub/Sub topic for metric function
    pubSubTopic: dynatrace-gcp-service-invocation
    # Name of the metric forwarding function 
    function: dynatrace-gcp-function
    # Name of the metric forwarding Cloud Scheduler instance
    scheduler: dynatrace-gcp-schedule
    # dynatrace-gcp-function execution interval in minutes (1 - 6)
    queryInterval: 3
activation:
  metrics:
    # List of services to forward Google Monitoring Metrics to Dynatrace
    services:
    # Google Cloud APIs
    - api/default_metrics
    # Google Apigee Environment
    #- apigee_googleapis_com_Environment/default_metrics
    # Google Apigee Proxy
    #- apigee_googleapis_com_Proxy/default_metrics
    # Google Apigee Proxy (v2)
    #- apigee_googleapis_com_ProxyV2/default_metrics
    # Google Assistant Action Project
    #- assistant_action_project/default_metrics
    # Google Autoscaler
    #- autoscaler/default_metrics
    # Google Cloud BigQuery BI Engine Model
    #- bigquery_biengine_model/default_metrics
    # Google Cloud BigQuery Project
    #- bigquery_project/default_metrics
    # Google Cloud Bigtable Cluster
    #- bigtable_cluster/default_metrics
    # Google Cloud Bigtable Table
    #- bigtable_table/default_metrics
    # Google Cloud IoT Registry
    #- cloudiot_device_registry/default_metrics
    # Google Cloud ML Job
    #- cloudml_job/default_metrics
    # Google Cloud ML Model Version
    #- cloudml_model_version/default_metrics
    #Cloud SQL Database
    - cloudsql_database/default_metrics
    # Google Cloud Trace
    #- cloudtrace_googleapis_com_CloudtraceProject/default_metrics
    # Google NetApp CVS-SO
    #- cloudvolumesgcp_api_netapp_com_NetAppCloudVolumeSO/default_metrics
    # Google Cloud Composer Environment
    #- cloud_composer_environment/default_metrics
    # Google Cloud Dataproc Cluster
    #- cloud_dataproc_cluster/default_metrics
    # Google Cloud Data Loss Prevention Project
    #- cloud_dlp_project/default_metrics
    # Google Cloud Function
    - cloud_function/default_metrics
    # Google Cloud Run Revision
    #- cloud_run_revision/default_metrics
    #Amazon EC2 Instance (via GCP)
    #- cloud_tasks_queue/default_metrics
    # Google Consumed API
    #- consumed_api/default_metrics
    # Google Consumer Quota
    #- consumer_quota/default_metrics
    # Google Dataflow Job
    #- dataflow_job/default_metrics
    # Google Cloud Datastore
    - datastore_request/default_metrics
    # Google Cloud DNS Query
    #- dns_query/default_metrics
    # Google Filestore Instance
    - filestore_instance/default_metrics
    # Google Firebase Hosting Site Domain
    #- firebase_domain/default_metrics
    # Google Firebase Realtime Database
    #- firebase_namespace/default_metrics
    # Google Firestore Instance
    #- firestore_instance/default_metrics
    # Google App Engine Application
    #- gae_app/default_metrics
    # Google App Engine Application - Uptime Checks
    #- gae_app_uptime_check/default_metrics
    # Google App Engine Instance
    #- gae_instance/default_metrics
    # Google VM Instance
    - gce_instance/default_metrics
    # Google VM Instance Agent
    #- gce_instance/agent
    # Google VM Instance Firewall Insights
    #- gce_instance/firewallinsights
    # Google VM Instance Istio
    #- gce_instance/istio
    # Google VM Instance Uptime Checks
    #- gce_instance/uptime_check
    # Google VM Instance VM Flow
    #- gce_instance_vm_flow/default_metrics
    # Google Cloud Router
    #- gce_router/default_metrics
    # Google Zone Network Health
    #- gce_zone_network_health/default_metrics
    # Google Cloud Storage bucket
    - gcs_bucket/default_metrics
    # Google Cloud HTTP/S Load Balancing Rule
    - https_lb_rule/default_metrics
    # Google Instance Group
    #- instance_group/default_metrics
    # Google Interconnect
    #- interconnect/default_metrics
    # Google Interconnect Attachment
    #- interconnect_attachment/default_metrics
    # Google Internal HTTP/S Load Balancing Rule
    - internal_http_lb_rule/default_metrics
    # Google Internal TCP Load Balancer Rule
    - internal_tcp_lb_rule/default_metrics
    # Google Internal UDP Load Balancer Rule
    - internal_udp_lb_rule/default_metrics
    # Google Network TCP Load Balancer Rule
    - tcp_lb_rule/default_metrics
    # Google Network UDP Load Balancer Rule
    - udp_lb_rule/default_metrics
    # Google Kubernetes Cluster
    #- k8s_cluster/default_metrics
    # Google Kubernetes Container
    # We recommend to monitor k8s_container/default_metrics together with k8s_node/default_metrics, k8s_pod/default_metrics
    - k8s_container/default_metrics
    # Google Kubernetes Container Agent
    #- k8s_container/agent
    # Google Kubernetes Container Apigee
    #- k8s_container/apigee
    # Google Kubernetes Container Istio
    #- k8s_container/istio
    # Google Kubernetes Container Nginx
    #- k8s_container/nginx
    # Google Kubernetes Node
    # We recommend to monitor k8s_node/default_metrics together with k8s_pod/default_metrics, k8s_container/default_metrics
    - k8s_node/default_metrics
    # Google Kubernetes Pod
    # We recommend to monitor k8s_pod/default_metrics together with k8s_node/default_metrics, k8s_container/default_metrics
    - k8s_pod/default_metrics
    # Google Kubernetes Pod
    #- k8s_pod/istio
    # Google Cloud Logging export sink
    #- logging_sink/default_metrics
    # Google Cloud Microsoft Active Directory Domain
    #- microsoft_ad_domain/default_metrics
    # Google Cloud NAT Gateway
    #- nat_gateway/default_metrics
    # Google NetApp Cloud Volume
    #- netapp_cloud_volume/default_metrics
    # Google Network Security Policy
    #- network_security_policy/default_metrics
    # Google Producer Quota
    #- producer_quota/default_metrics
    # Google Pub/Sub Lite Topic Partition
    - pubsublite_topic_partition/default_metrics
    # Google Cloud Pub/Sub Snapshot
    - pubsub_snapshot/default_metrics
    # Google Cloud Pub/Sub Subscription
    # We recommend to monitor pubsub_subscription/default_metrics together with pubsub_topic/default_metrics
    - pubsub_subscription/default_metrics
    # Google Cloud Pub/Sub Topic
    # We recommend to monitor pubsub_topic/default_metrics together with pubsub_subscription/default_metrics
    - pubsub_topic/default_metrics
    # Google reCAPTCHA Key
    #- recaptchaenterprise_googleapis_com_Key/default_metrics
    # Google Cloud Memorystore
    - redis_instance/default_metrics
    # Google Cloud Spanner Instance
    #- spanner_instance/default_metrics
    # Google Cloud TCP/SSL Proxy Rule
    #- tcp_ssl_proxy_rule/default_metrics
    # Google Cloud TPU Worker
    #- tpu_worker/default_metrics
    # Google Transfer Service Agent
    #- transfer_service_agent/default_metrics
    # Google Uptime Check URL
    #- uptime_url/default_metrics
    # Google VPC Access Connector
    #- vpc_access_connector/default_metrics
    # Google Cloud VPN Tunnel
    #- vpn_gateway/default_metrics